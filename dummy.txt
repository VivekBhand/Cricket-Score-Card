CREATE TABLE if not exists Team(TeamID INT, Team_name VARCHAR(20) NOT NULL, NoOfWin VARCHAR(20),
                            NoOfLoss VARCHAR(30),                                 NoOfMatches VARCHAR(15),
                               ODI VARCHAR(10),                                 T20 VARCHAR(10),
                     Test VARCHAR(10),                                  PRIMARY KEY (TeamID)
                                                  );



CREATE TABLE if not exists PLAYER                                 (                                 player_id INTEGER,                                 TeamID INTEGER ,                                 playername VARCHAR(10),                                 no_Of_runs INTEGER DEFAULT 0,
 batting_avg INTEGER DEFAULT 0,                                 bowling_avg INTEGER DEFAULT 0,
                   wickets INTEGER DEFAULT 0,                                 PRIMARY KEY(player_id, TeamID),                                 FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete cascade
                     );


CREATE TABLE if not exists Coach                                 (                                 C_id INTEGER ,                                 C_name VARCHAR(20) NOT NULL,                       
TeamID INTEGER ,                                  PRIMARY KEY (C_id),
FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete set NULL
)
;
    
alter table PLAYER add no_of_matches int;


    
    


pCREATE TABLE if not exists Innings
                                      (
                                      InningsID INTEGER ,
                                      TeamID INTEGER NOT NULL,
                                      player_id INTEGER NOT NULL,
                                      PlayerScore INTEGER,
                                      PlayerWicket INTEGER,
                                      
                                      
                                      PRIMARY KEY(InningsID, TeamID, player_id),
                                      FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete cascade,
                                          FOREIGN KEY (player_id) REFERENCES PLAYER(player_id) on delete cascade
                                      );



CREATE TABLE if not exists UMPIRE
                                (
                                u_id INTEGER NOT NULL,
                                u_name VARCHAR(30) NOT NULL,
                                no_of_matches INTEGER,
                                PRIMARY KEY (u_id)
                
                                );





CREATE TABLE if not exists Matches
                                      (
                                      MatchID INTEGER NOT NULL  ,
                                      InningsID1 INTEGER,
                                      InningsID2 INTEGER,
                                      MATCHDATE VARCHAR(15),
                                      MATCHTIME VARCHAR(15),
                                      winnerID INT NOT NULL,
                                      loserID INT NOT NULL,
                                      u_id INTEGER,
                                      
                                      PRIMARY KEY(MatchID),
                                      FOREIGN KEY (InningsID1) REFERENCES Innings(InningsID) on delete cascade,
                                      FOREIGN KEY (InningsID2) REFERENCES Innings(InningsID) on delete cascade,
                                      FOREIGN KEY (winnerID) REFERENCES Team(TeamID) on delete cascade,FOREIGN KEY (loserID) REFERENCES Team(TeamID) on delete cascade,
                                      FOREIGN KEY (u_id) REFERENCES UMPIRE(u_id) on delete set NULL
                                      
                                      );



