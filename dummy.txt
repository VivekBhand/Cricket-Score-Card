CREATE TABLE if not exists Team(TeamID INT, Team_name VARCHAR(20) NOT NULL, NoOfWin VARCHAR(20),
                            NoOfLoss VARCHAR(30),                                 NoOfMatches VARCHAR(15),
                               ODI VARCHAR(10),                                 T20 VARCHAR(10),
                     Test VARCHAR(10),                                  PRIMARY KEY (TeamID)
                                                  );



CREATE TABLE if not exists PLAYER                                 (                                 player_id INTEGER,                                 TeamID INTEGER ,                                 playername VARCHAR(10),                                 no_Of_runs INTEGER DEFAULT 0,
 batting_avg INTEGER DEFAULT 0,                                 bowling_avg INTEGER DEFAULT 0,
                   wickets INTEGER DEFAULT 0,                                 PRIMARY KEY(player_id, TeamID),                                 FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete cascade
                     );


CREATE TABLE if not exists Coach                                 (                                 C_id INTEGER ,                                 C_name VARCHAR(20) NOT NULL,                       
    ->          TeamID INTEGER ,                                  PRIMARY KEY (C_id),
    ->                FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete set NULL
    ->        )
    -> ;
    
alter table PLAYER add no_of_matches int;


    
    



CREATE TABLE if not exists Innings
     (
     InningsID INTEGER ,
     TeamID INTEGER NOT NULL,
     player_id INTEGER NOT NULL,
     PlayerScore INTEGER,
     PlayerWicket INTEGER,
     
     
     PRIMARY KEY(InningsID, TeamID, player_id),
     FOREIGN KEY (TeamID) REFERENCES Team(TeamID) on delete cascade,
         FOREIGN KEY (player_id) REFERENCES PLAYER(player_id) on delete cascade
     );





CREATE TABLE if not exists Matches
(MatchID INTEGER ,InningsID1 INTEGER NOT NULL,InningsID2 INTEGER NOT NULL,MATCHDATE VARCHAR(15),
                                MATCHTIME VARCHAR(15),
                                winnerID INTEGER NOT NULL,
                                loserID INTEGER NOT NULL,
                                u_id INTEGER NOT NULL,
                                
                                PRIMARY KEY(MatchID),
                                FOREIGN KEY (InningsID1,InningsID2) REFERENCES Innings(InningsID) on delete cascade,
                                FOREIGN KEY (winnerID,loserID) REFERENCES Team(TeamID) on delete cascade,
                                FOREIGN KEY (u_id) REFERENCES umpire(u_id) on delete set NULL
                                
                                );




